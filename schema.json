{
  "type": "component",
  "metadata": {},
  "schema": {
    "name": "bb-component-rtools",
    "friendlyName": "RTools",
    "description": "A Budibase plugin containing multiple composite components",
    "icon": "Box",
    "hasChildren": true,
    "styles": ["padding", "size", "background", "border"],
    "settings": [
      {
        "type": "select",
        "key": "componentType",
        "label": "Type",
        "options": [
          { "label": "Tabs", "value": "tabs" },
          { "label": "Tab Container", "value": "tabContainer" },
          { "label": "Iterator", "value": "iterator" },
          { "label": "Poller", "value": "poller" },
          { "label": "Binding", "value": "binding" }
        ],
        "defaultValue": "binding"
      },
      {
        "type": "boolean",
        "key": "showDebugInProd",
        "label": "Show Debug In Prod"
      },
      {
        "section": true,
        "name": "Tabs",
        "dependsOn": {
          "setting": "componentType",
          "value": "tabs"
        },
        "settings": [
          {
            "type": "text",
            "key": "activeTabValue",
            "label": "Value"
          },
          {
            "type": "boolean",
            "key": "tabDestroyOnDeactive",
            "label": "Destroy On Deactive"
          },
          {
            "type": "select",
            "label": "Align",
            "key": "tabsAlign",
            "options": [
              {
                "label": "Left",
                "value": "flex-start"
              },
              {
                "label": "Center",
                "value": "center"
              },
              {
                "label": "Right",
                "value": "flex-end"
              }
            ],
            "defaultValue": "flex-start"
          },
          {
            "type": "color",
            "key": "tabColor",
            "label": "Color",
            "defaultValue": "#555555"
          },
          {
            "type": "color",
            "key": "activeTabColor",
            "label": "Active Color",
            "defaultValue": "#007aff"
          },
          {
            "type": "event",
            "key": "tabsChange",
            "label": "On Changed",
            "context": [
              {
                "label": "Current Tab Value",
                "key": "currentTabValue",
                "type": "string"
              }
            ]
          }
        ]
      },
      {
        "section": true,
        "name": "Tab Container",
        "dependsOn": {
          "setting": "componentType",
          "value": "tabContainer"
        },
        "settings": [
          {
            "type": "phosphorIcon",
            "key": "tabIcon",
            "label": "Icon"
          },
          {
            "type": "text",
            "key": "tabLabel",
            "label": "Label"
          },
          {
            "type": "plainText",
            "key": "tabValue",
            "label": "Value"
          }
        ]
      },
      {
        "section": true,
        "name": "Bingding",
        "dependsOn": {
          "setting": "componentType",
          "value": "binding"
        },
        "settings": [
          {
            "type": "text",
            "key": "bindingValue",
            "label": "Value",
            "placeholder": "Value of the binding"
          }
        ]
      },
      {
        "section": true,
        "name": "Iterator",
        "dependsOn": {
          "setting": "componentType",
          "value": "iterator"
        },
        "settings": [
          {
            "type": "text",
            "key": "iteratorIndex",
            "label": "Index"
          },
          {
            "type": "dataSource",
            "key": "iteratorDataSource",
            "label": "Data Source"
          },
          {
            "type": "event",
            "key": "iteration",
            "label": "On Iteration",
            "context": [
              {
                "label": "Current Iteration Index",
                "key": "currentIterationIndex",
                "type": "number"
              },
              {
                "label": "Current Iteration Item",
                "key": "currentIterationItem"
              }
            ]
          }
        ]
      },
      {
        "section": true,
        "name": "Poller",
        "dependsOn": {
          "setting": "componentType",
          "value": "poller"
        },
        "settings": [
          {
            "type": "text",
            "key": "pollerSeed",
            "label": "Seed"
          },
          {
            "type": "number",
            "key": "pollerInterval",
            "label": "Interval (in millisecond)",
            "defaultValue": 1000
          },
          {
            "type": "event",
            "key": "pollerTrigger",
            "label": "On Interval"
          }
        ]
      }
    ],
    "context": [
      {
        "type": "static",
        "values": [
          {
            "label": "Binding Value",
            "key": "bindingValue"
          }
        ]
      },
      {
        "type": "static",
        "values": [
          {
            "label": "Active Tab Value",
            "key": "activeTabValue",
            "type": "string"
          }
        ]
      },
      {
        "type": "static",
        "values": [
          {
            "label": "Current Iterate Index",
            "key": "currentIterateIndex",
            "type": "nubmer"
          },
          {
            "label": "Current Iterate Item",
            "key": "currentIterateItem"
          }
        ]
      }
    ]
  }
}
